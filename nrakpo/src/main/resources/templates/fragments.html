<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:fragment="head">
    <title>SmartHouse</title>
    <meta charset="UTF-8">

    <link th:href="@{/css/libs/bootstrap.min.css}" rel="stylesheet"/>
    <link th:href="@{/css/core.css}" rel="stylesheet">

    <script th:src="@{/js/http.js}"></script>

</head>
<body>
<div th:fragment="header" style="font-size: 0">
    <div style="display: inline-block; width: 50%">
        <a th:href="@{/}">
            <img style="padding-left: 20px; width: 150px; display: inline-block" th:src="@{/images/crying.jpg}"/>
            <h1 style="display: inline-block; vertical-align: middle; padding-left: 20px">NRAKPO project</h1>
        </a>
    </div>

    <div style="text-align: right; display: inline-block; width: 50%" sec:authorize="isAuthenticated()">
        <form style="padding-right: 20px; font-size: 18px" method="POST" th:action="@{/logout}">
            <span style="margin-right: 5px;" th:text="Yo"></span>
            <span sec:authentication="name"
                  style="text-decoration: underline; font-weight: bold; margin-right: 5px"></span>
            <input type="submit" class="btn btn-danger" th:value="Logout"/>
        </form>
    </div>
    <div style="text-align: right; display: inline-block; width: 50%" sec:authorize="!isAuthenticated()"
         th:if="${#httpServletRequest.requestURI != '/login'}">
        <div style="padding-right: 20px;">
            <a class="btn btn-primary" th:href="@{/login}" th:text="Login"></a>
        </div>
    </div>
    <div style="text-align: right; display: inline-block; width: 50%" sec:authorize="isAuthenticated()">
        <form style="padding-right: 20px; font-size: 18px" method="GET" th:action="@{/pictureUpload}">
            <input type="submit" class="btn btn-danger" th:value="PictureUpload"/>
        </form>
    </div>
    <div sec:authorize="hasAuthority('ROLE_ADMIN')">
        <form style="padding-right: 20px; font-size: 18px" method="GET" th:action="@{/users}">
            <input type="submit" class="btn btn-danger" th:value="ViewUsers"/>
        </form>
    </div>
    <hr>
</div>

<div th:fragment="photos">
    <th:block th:each="photo : ${photos}">
        <table>
            <tr>
                <td><a th:href="'/photo/'+${photo.id}"><img style="padding-left: 20px; width: 250px; display: inline-block"
                                                         th:src="${photo.url}"></a></td>
                <td th:text="${photo.description}"></td>
                <td th:text="${photo.date}"></td>
                <td th:text="${photo.username}"></td>
                <td th:text="${photo.hashtags}"></td>
            </tr>
        </table>
    </th:block>
</div>


<div th:fragment="users">
    <th:block th:each="user : ${users}">
        <table>
            <tr>
                <td th:text="${user.username}"></td>
                <td th:text="${user.email}"></td>
                <td th:text="${user.userPackage}"></td>
                <td th:text="${user.accountType}"></td>
            </tr>
        </table>
    </th:block>
</div>


</body>
</html>
